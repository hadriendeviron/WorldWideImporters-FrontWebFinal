<main class="container-fluid">
  <header class="card my-4">
    <div class="card-body">
      <form class="form-inline" (ngSubmit)="sortFilter()">
        <div class="form-group">
        <label class="mr-sm-2" for="maxPrice">Max Price :</label><input class="form-control mb-2 mr-sm-2" type="number"
          name="maxPrice" [(ngModel)]="filterSortProducts.maxPrice" />
        </div>
        <div class="form-check mb-2 mr-sm-2">
          <label class="form-check-label" for="sortbyPrice"><input class="form-check-input" type="checkbox" name="sortbyPrice"
              [(ngModel)]="filterSortProducts.sortByPrice" />Sort by price</label>
        </div>
        <div class="form-check mb-2 mr-sm-2">
          <label class="form-check-label" for="showOnlyAvailable"><input class="form-check-input" type="checkbox" name="ShowOnlyAvailable"
              [(ngModel)]="filterSortProducts.stockedOnly" />Show only available</label>
        </div>
        <button type="submit" class="btn btn-success mb-2">Filter</button>
      </form>
    </div>
  </header>
  <section class="container-fluid row mt-4 mb-4">
    <aside class="col-md-4">
      <ngb-accordion [closeOthers]="true" #acc="ngbAccordion">
        <ngb-panel *ngFor="let category of categories;let i=index" id="toggle-{{i}}" title="{{category.category}}">
          <ng-template ngbPanelContent>
            <div class="list-group">
              <a class="list-group-item list-group-item-action" *ngFor="let subcategory of category.subcategories;" (click)='selectSubcategory(subcategory);'>{{subcategory.name}}</a>
            </div>
          </ng-template>
        </ngb-panel>
      </ngb-accordion>
    </aside>
    <section class="col-md-8" *ngIf="displayedItems">
      <div class="container-fluid row">
        <div class="col-lg-4 col-sm-6" *ngFor="let product of displayedItems">
          <figure class="card">
            <a routerLink="/product/{{product.name}}" routerLinkActive="active" data-toggle="tooltip" [title]="product.description">
            <img class="card-img-top shopping-image" [src]="product.imagelink" [alt]="product.name">
              <figcaption class="card-img-overlay">
                <h4 class="card-title">{{product.name}}</h4>
              </figcaption>
            </a>
          </figure>
        </div>
      </div>
    </section>
  </section>
</main>