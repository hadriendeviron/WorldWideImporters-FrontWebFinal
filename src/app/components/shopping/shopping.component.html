<main>
  <div class="card">
    <div class="card-body">
    <form class="form-inline" (ngSubmit)="sortFilter()">
      <label class="mr-sm-2" for="maxPrice">Max Price :</label><input class="form-control mb-2 mr-sm-2" type="number"
        name="maxPrice" [(ngModel)]="filterSortProducts.maxPrice" />
      <div class="form-check mb-2 mr-sm-2">
        <label class="form-check-label" for="sortbyPrice"><input class="form-check-input" type="checkbox" name="sortbyPrice"
            [(ngModel)]="filterSortProducts.sortByPrice" />Sort by price</label>
      </div>
      <div class="form-check mb-2 mr-sm-2">
        <label class="form-check-label" for="showOnlyAvailable"><input class="form-check-input" type="checkbox" name="ShowOnlyAvailable"
            [(ngModel)]="filterSortProducts.stockedOnly" />Show only available</label>
      </div>
      <button type="submit" class="btn btn-outline-dark mb-2">Filter</button>
    </form>
    </div>
  </div>
  <div class="container-fluid row mt-4 mb-4">
    <div class="col-md-4">
      <ngb-accordion #acc="ngbAccordion">
        <ngb-panel *ngFor="let category of categories;let i=index" id="toggle-{{i}}" title="{{category.category}}">
          <ng-template ngbPanelContent>
            <div class="list-group">
              <a class="list-group-item" *ngFor="let subcategory of category.subcategories;" (click)='selectSubcategory(subcategory);'>{{subcategory.name}}</a>
            </div>
          </ng-template>
        </ngb-panel>
      </ngb-accordion>
    </div>
    <div class="col-md-8" *ngIf="displayedItems">
      <div class="container-fluid row">
        <div class="col-md-4" *ngFor="let product of displayedItems">
          <div class="card"><img class="card-img-top img-fluid" [src]="product.imagelink" style="height:250px;" alt="Card image">
            <div class="card-img-overlay">
              <h4 class="card-title">{{product.name}}</h4>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>